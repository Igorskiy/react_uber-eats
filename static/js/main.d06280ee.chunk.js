(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{2:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"t",function(){return getRestaurantsList}),__webpack_require__.d(__webpack_exports__,"q",function(){return getLocationList}),__webpack_require__.d(__webpack_exports__,"p",function(){return getLocation}),__webpack_require__.d(__webpack_exports__,"s",function(){return getRestaurant}),__webpack_require__.d(__webpack_exports__,"a",function(){return getBasket}),__webpack_require__.d(__webpack_exports__,"m",function(){return getIsEditable}),__webpack_require__.d(__webpack_exports__,"u",function(){return getTotalCount}),__webpack_require__.d(__webpack_exports__,"g",function(){return getFullPrice}),__webpack_require__.d(__webpack_exports__,"j",function(){return getHash}),__webpack_require__.d(__webpack_exports__,"k",function(){return getIsBasketShown}),__webpack_require__.d(__webpack_exports__,"h",function(){return getHasError}),__webpack_require__.d(__webpack_exports__,"i",function(){return getHasWarning}),__webpack_require__.d(__webpack_exports__,"n",function(){return getIsLoading}),__webpack_require__.d(__webpack_exports__,"e",function(){return getCurrentUuid}),__webpack_require__.d(__webpack_exports__,"r",function(){return getMenuItem}),__webpack_require__.d(__webpack_exports__,"o",function(){return getIsSearchVisible}),__webpack_require__.d(__webpack_exports__,"l",function(){return getIsDeliveryVisible}),__webpack_require__.d(__webpack_exports__,"b",function(){return getBasketItemId}),__webpack_require__.d(__webpack_exports__,"c",function(){return getCounter}),__webpack_require__.d(__webpack_exports__,"f",function(){return getCustomInfo}),__webpack_require__.d(__webpack_exports__,"d",function(){return getCurrentPrice});var getRestaurantsList=function(e){var t=e.restaurantsList;return t.feedItems?t.feedItems.map(function(e){var a=e.uuid;return t.storesMap[a]}):void 0},getLocationList=function(e){return e.location.locationList},getLocation=function(e){return e.location.location},getRestaurant=function(e){return e.restaurant},getBasket=function(e){return e.basket.basket},getIsEditable=function(e){return e.customization.isEditable},getTotalCount=function(e){return 1===e.basket.basket.length?e.basket.basket[0].count:e.basket.basket.reduce(function(e,t){return e+t.count},0)},getFullPrice=function getFullPrice(state){return eval(state.basket.basket.map(function(e){return e.price*e.count}).join("+"))},getHash=function(e){return e.router.location.hash},getIsBasketShown=function(e){return e.basket.isBasketShown},getIsUtensilsRequested=function(e){return e.basket.isUtensilsRequested},getHasError=function(e){return e.hasError},getHasWarning=function(e){return e.hasWarning},getIsLoading=function(e){return e.isloading},getCurrentUuid=function(e){return e.currentUuid},getMenuItem=function(e){return e.menuItem},getIsSearchVisible=function(e){return e.input.isMobileSearchVisible},getIsDeliveryVisible=function(e){return e.input.isMobileDeliveryVisible},getBasketItemId=function(e){return e.basket.basketItemId},getRestaurantNotes=function(e){return e.basket.restaurantNotes},getCounter=function(e){return e.customization.counter},getCustomInfo=function(e){return e.customization.addPrice},getCurrentPrice=function(e){return e.customization.currentPrice+e.customization.addPrice.reduce(function(e,t){return e+t.price},0)}},30:function(e,t,a){},36:function(e,t,a){e.exports=a(61)},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){},57:function(e,t,a){},58:function(e,t,a){},59:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(19),s=a.n(c),i=a(21),o=a(17),l=a(10),u=a(14),m=a(29),_=a(31),d=a(33),b=a(1),p={address:"",time:"",search:"",isMobileSearchVisible:!1,isMobileDeliveryVisible:!1},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ADDRESS":return Object(b.a)({},e,{address:t.address});case"SET_TIME":return Object(b.a)({},e,{time:t.time});case"SET_SEARCH":return Object(b.a)({},e,{search:t.search});case"TOGGLE_SEARCH":return Object(b.a)({},e,{isMobileSearchVisible:!e.isMobileSearchVisible,isMobileDeliveryVisible:!1});case"TOGGLE_DELIVERY":return Object(b.a)({},e,{isMobileDeliveryVisible:!e.isMobileDeliveryVisible,isMobileSearchVisible:!1});case"CLOSE_MOBILE":return Object(b.a)({},e,{isMobileDeliveryVisible:!1,isMobileSearchVisible:!1});default:return e}},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_RESTAURANTS_LIST":return t.restaurantsList;default:return e}},k=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"START_LOADING":return!0;case"STOP_LOADING":return!1;default:return e}},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_UUID":return t.currentUuid;default:return e}},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_RESTAURANT":return t.restaurant;default:return e}},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_MENU_ITEM":return t.menuItem;default:return e}},N=a(16),I={counter:1,currentPrice:0,addPrice:[],isChecked:!1,isEditable:!1},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_PRICE_TOGGLE":return e.addPrice.find(function(e){return e.subtitle.includes(t.addPrice.subtitle)})?Object(b.a)({},e,{addPrice:[].concat(Object(N.a)(e.addPrice.filter(function(e){return e.subtitle!==t.addPrice.subtitle})),[t.addPrice])}):Object(b.a)({},e,{addPrice:[].concat(Object(N.a)(e.addPrice),[t.addPrice])});case"ADD_PRICE_CHECKBOX":return e.addPrice.find(function(e){return e.customItem.includes(t.addPrice.customItem)})?Object(b.a)({},e,{addPrice:Object(N.a)(e.addPrice.filter(function(e){return e.customItem!==t.addPrice.customItem})).filter(function(e){return e.length})}):Object(b.a)({},e,{addPrice:[].concat(Object(N.a)(e.addPrice),[t.addPrice])});case"DECREASE_COUNTER":return e.counter>1?Object(b.a)({},e,{counter:--e.counter}):e;case"INCREASE_COUNTER":return Object(b.a)({},e,{counter:++e.counter});case"SET_CURRENT_PRICE":return Object(b.a)({},e,{currentPrice:t.currentPrice});case"SET_COUNTER":return Object(b.a)({},e,{counter:t.counter});case"SET_ADD_PRICE":return Object(b.a)({},e,{addPrice:t.addPrice});case"SET_IS_EDITABLE":return Object(b.a)({},e,{isEditable:t.isEditable});case"RESET_ADD_PRICE":return Object(b.a)({},e,{addPrice:[]});default:return e}},T=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_HAS_ERROR":return t.hasError;default:return e}},S={locationList:{},location:""},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LOCATION_LIST":return Object(b.a)({},e,{locationList:t.locationList});case"SET_LOCATION":return Object(b.a)({},e,{location:t.location});default:return e}},j={basket:[],isBasketShown:!1,basketItemTitle:"",basketItemId:0,isUtensilsRequested:!1,basketItemCount:"",restaurantNotes:""},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_ITEM_IN_BASKET":return Object(b.a)({},e,{basket:[].concat(Object(N.a)(e.basket),[t.basket])});case"SHOW_BASKET":return Object(b.a)({},e,{isBasketShown:!0});case"HIDE_BASKET":return Object(b.a)({},e,{isBasketShown:!1});case"SET_UTENSILS":return Object(b.a)({},e,{basket:e.basket.map(function(e){return e.id===t.basketItemId?Object(b.a)({},e,{utensils:!e.utensils}):e})});case"INCREASE_COUNTER_BASKET":return Object(b.a)({},e,{basket:e.basket.map(function(e){return e.id===t.basketItemId?Object(b.a)({},e,{count:++e.count}):e})});case"DECREASE_COUNTER_BASKET":return Object(b.a)({},e,{basket:e.basket.map(function(e){return e.id===t.basketItemId?Object(b.a)({},e,{count:--e.count}):e})});case"SET_BASKET_ITEM_COUNT":return Object(b.a)({},e,{basket:e.basket.map(function(e){return e.id===t.basketItemId?Object(b.a)({},e,{count:+t.basketItemCount}):e})});case"SET_BASKET_ITEM_ID":return Object(b.a)({},e,{basketItemId:t.basketItemId});case"SET_BASKET_ITEM_TITLE":return Object(b.a)({},e,{basketItemTitle:t.basketItemTitle});case"REMOVE_ITEM":return Object(b.a)({},e,{basket:e.basket.filter(function(e){return e.id!==t.basketItemId})});case"EDIT_ITEM":return Object(b.a)({},e,{basket:e.basket.map(function(a){return a.id===e.basketItemId?Object(b.a)({},t.basket,{id:a.id}):a})});case"SET_RESTAURANT_NOTES":return Object(b.a)({},e,{basket:e.basket.map(function(a){return a.id===e.basketItemId?Object(b.a)({},a,{restaurantNotes:t.restaurantNotes}):a})});case"RESET_BASKET":return Object(b.a)({},e,{basket:[]});default:return e}},C=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_HAS_WARNING":return t.hasWarning;default:return e}},R=Object(l.a)(),A=[d.a,Object(i.save)({debounce:500})],L=function(e){return Object(u.combineReducers)({router:Object(o.b)(e),restaurantsList:f,input:E,isloading:k,currentUuid:g,restaurant:v,menuItem:h,customization:O,hasError:T,location:w,basket:y,hasWarning:C})};Object(u.combineReducers)({router:Object(o.b)(R),restaurantsList:f,input:E,isloading:k,currentUuid:g,restaurant:v,menuItem:h,customization:O,hasError:T,location:w,basket:y,hasWarning:C}),a(30);var U,x=a(8),P=a(12),D=(a(49),a(6)),M=(a(50),a(22)),B=a.n(M),q=(a(51),function(e){var t=e.iconUrl,a=e.locationId,n=e.value,c=e.onChange,s=e.type,i=e.placeholder,o=e.name,l=e.isSmall,u=e.label,m=e.locationList,_=e.setLocation,d=B()("control__wrapper",{address:"address"===o}),b=B()("control__input",{"control__input--small":l}),p=B()("control__select",{"control__select--small":l});return r.a.createElement(r.a.Fragment,null,"address"===o&&r.a.createElement("label",{className:"control"},u&&r.a.createElement("p",{className:"control__label"},u),r.a.createElement("div",{className:d},!!t&&r.a.createElement("img",{src:t,alt:i,className:"control__icon"}),m.locations&&r.a.createElement("select",{onChange:function(e){return _(e.target.value)},value:n,defaultValue:a,name:o,className:p,placeholder:i},m&&m.locations.map(function(e){return r.a.createElement("option",{key:e,value:m.locationsMap[e].id},m.locationsMap[e].title)})))),"address"!==o&&r.a.createElement("label",{className:"control"},u&&r.a.createElement("p",{className:"control__label"},u),r.a.createElement("div",{className:d},!!t&&r.a.createElement("img",{src:t,alt:i,className:"control__icon"}),r.a.createElement("input",{type:s,value:n,onChange:c,name:o,className:b,placeholder:i}))))}),H=a(2),G=function(e){return{type:"SET_UTENSILS",basketItemId:e}},V=function(e){return{type:"SET_BASKET_ITEM_ID",basketItemId:e}},z=function(e){return{type:"SET_IS_EDITABLE",isEditable:e}},F=function(e){return{type:"REMOVE_ITEM",basketItemId:e}},K=function(e){return{type:"INCREASE_COUNTER_BASKET",basketItemId:e}},W=function(e){return{type:"DECREASE_COUNTER_BASKET",basketItemId:e}},Y=function(e){return{type:"SET_LOCATION",location:e}},J=function(e){return{type:"SET_LOCATION_LIST",locationList:e}},X=function(e){return{type:"SET_RESTAURANT",restaurant:e}},Q=function(e){return{type:"SET_MENU_ITEM",menuItem:e}},Z=function(e){return{type:"SET_TIME",time:e}},$=function(e){return{type:"SET_SEARCH",search:e}},ee=function(e){return{type:"SET_HAS_WARNING",hasWarning:e}},te=function(e){return{type:"SET_HAS_ERROR",hasError:e}},ae=function(e){return{type:"ADD_PRICE_CHECKBOX",addPrice:e}},ne=Object(D.c)(function(e){return{locationList:Object(H.q)(e),locationId:Object(H.p)(e)}},function(e){return{setLocation:function(t){return e(Y(t))}}})(q),re=function(e){return e.location.pathname.split("/").filter(function(e,t,a){return t!==a.length-1}).join("/")},ce=(a(52),function(e){var t=e.basket,a=e.fullPrice,c=e.increaseItem,s=e.decreaseItem,i=e.hideBasket,o=e.removeItem,l=e.setIsEditable,u=e.setBasketItemId,m=e.setRestaurantNotes,_=e.setUtensils,d=Object(n.useRef)(null);return r.a.createElement("div",{className:"basket-popup",onClick:function(e){return d.current&&!d.current.contains(e.target)&&i()}},r.a.createElement("div",{className:"basket-form",ref:d},r.a.createElement("div",{className:"uberEats__basket"},r.a.createElement("img",{src:"./images/close.svg",alt:"close button",className:"basket__close",onClick:function(){return i()}}),r.a.createElement("div",{className:"basket__title"},"Your order"),r.a.createElement("div",null,r.a.createElement("div",{className:"basket__address"},"From",r.a.createElement(x.NavLink,{className:"basket__address--address",to:"/restaurants/".concat(t[0].restaurantUuid)}," ".concat(t[0].restaurantTitle))),r.a.createElement("div",{className:"basket__basket-items-list"},t&&t.map(function(e){var a;return r.a.createElement("div",{key:e.id,className:"basket-items-list__basket-item"},r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"basket-item__counter"},r.a.createElement("img",{className:"basket-item__counter--button",src:"./images/Group 18.svg",alt:"remove item button",onClick:function(){return s(e.id,e.count)}}),r.a.createElement("span",{className:"basket-item__counter--counter"},e.count),r.a.createElement("img",{className:"basket-item__counter--button",src:"./images/Group 20.svg",alt:"add item button",onClick:function(){return c(e.id)}}),r.a.createElement("button",{onClick:function(){return function(e,t){o(e),1===t.length&&i()}(e.id,t)},className:"basket-item__remove-button"},"remove item")),r.a.createElement("div",{className:"basket-item__item"},r.a.createElement(x.NavLink,{to:"".concat(e.restaurantUuid,"/").concat(e.itemUuid),className:"basket-item__item--name",onClick:function(){return t=!0,a=e.id,l(t),u(a),void i();var t,a}},e.itemTitle),r.a.createElement("div",{className:"basket-item__item--additional-info"},e.customInfo.map(function(e){return r.a.createElement("div",{key:e.customItem},e.customItem.split("-")[0])}))),r.a.createElement("div",{className:"basket-item__item--price"},"UAH ",e.price*e.count)),r.a.createElement("div",{className:"basket__items--item"},r.a.createElement("label",{className:"basket__items--lable"},r.a.createElement("input",{type:"checkbox",className:"checkbox--default",checked:null===(a=t.find(function(t){return t.id===e.id}))||void 0===a?void 0:a.utensils,onChange:function(){return _(e.id)}}),r.a.createElement("div",{className:"basket__items--name-price"},r.a.createElement("span",{className:"text-checkbox--basket"}),r.a.createElement("span",{className:"basket__items--price"},"Add utensils, straws, etc.")))),r.a.createElement("div",{className:"basket__items--note"},r.a.createElement("input",{type:"text",defaultValue:e.restaurantNotes||"",onChange:function(t){return m(t.target.value,e.id)},onFocus:function(){return u(e.id)},placeholder:"note for restaurant"})),r.a.createElement("hr",{className:"basket__items--break"}))})),r.a.createElement("div",{className:"submit-block__submit submit--basket",onClick:function(){return i()}},r.a.createElement("span",{className:"submit-block__submit--count"},1===t.length?t[0].count:t.reduce(function(e,t){return e+t.count},0)),r.a.createElement("span",null,"Total Price"),r.a.createElement("span",{className:"submit-block__submit--price"},a&&a.toFixed(2)," UAH"))))))}),se=a(5),ie=a.n(se),oe="https://mate-uber-eats-api.herokuapp.com/api/v1/restaurants",le=function(){var e;return ie.a.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ie.a.awrap(fetch("https://mate-uber-eats-api.herokuapp.com/api/v1/locations"));case 2:return e=t.sent,t.abrupt("return",e.json());case 4:case"end":return t.stop()}})},ue=function(e){var t,a;return ie.a.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!e){n.next=5;break}return n.next=3,ie.a.awrap(fetch(oe+"?location="+e));case 3:return t=n.sent,n.abrupt("return",t.json());case 5:return n.next=7,ie.a.awrap(fetch(oe));case 7:return a=n.sent,n.abrupt("return",a.json());case 9:case"end":return n.stop()}})},me=function(e){var t;return ie.a.async(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,ie.a.awrap(fetch("".concat("https://mate-uber-eats-api.herokuapp.com/api/v1/restaurants/").concat(e)));case 2:return t=a.sent,a.abrupt("return",t.json());case 4:case"end":return a.stop()}})},_e=function(e){var t;return ie.a.async(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,ie.a.awrap(fetch("".concat("https://mate-uber-eats-api.herokuapp.com/api/v1/menu-items/").concat(e)));case 3:if(!(t=a.sent).ok){a.next=6;break}return a.abrupt("return",t.json());case 6:throw new Error(t.statusText);case 9:return a.prev=9,a.t0=a.catch(0),a.abrupt("return","error");case 12:case"end":return a.stop()}},null,null,[[0,9]])},de=Object(D.c)(function(e){return{basket:Object(H.a)(e),fullPrice:Object(H.g)(e)}},function(e){return{setUtensils:function(t){return e(function(e){return function(t){return ie.a.async(function(a){for(;;)switch(a.prev=a.next){case 0:t(V(e)),t(G(e));case 2:case"end":return a.stop()}})}}(t))},increaseItem:function(t){return e(function(e){return function(t){return ie.a.async(function(a){for(;;)switch(a.prev=a.next){case 0:t(V(e)),t(K(e));case 2:case"end":return a.stop()}})}}(t))},decreaseItem:function(t,a){return e(function(e,t){return function(a){return ie.a.async(function(n){for(;;)switch(n.prev=n.next){case 0:t>1&&(a(V(e)),a(W(e)));case 1:case"end":return n.stop()}})}}(t,a))},hideBasket:function(){return e({type:"HIDE_BASKET"})},removeItem:function(t){return e(F(t))},setIsEditable:function(t){return e(z(t))},setBasketItemId:function(t){return e(V(t))},setRestaurantNotes:function(t,a){return e(function(e,t){return{type:"SET_RESTAURANT_NOTES",restaurantNotes:e,basketItemId:t}}(t,a))}}})(ce),be=function(e){var t=e.setTime,a=e.setSearch,c=e.toggleSearch,s=e.toggleDelivery,i=e.isSearchVisible,o=e.isDeliveryVisible,l=e.showBasket,u=e.isBasketShown,m=e.closeMobile,_=e.locationId,d=e.basket,b=e.totalCount,p=Object(P.k)(),E=Object(P.l)(),f=new URLSearchParams(E.search);Object(n.useEffect)(function(){p.push("/restaurants"+E.search)},[_,p]);var k=function(e,t){var a;return function(){for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];clearTimeout(a),a=window.setTimeout(function(){return e.apply(void 0,r)},t)}}(function(e,n){switch(n){case"time":return t(e);case"search":a(e),f.set("title",e.trim().toLowerCase()),!e.trim()&&f.delete("title"),p.push({search:"".concat(f.toString())});break;default:return}},1e3);return r.a.createElement("header",{className:"header"},r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"header__inner"},r.a.createElement("img",{onClick:function(){return p.push("/restaurants")},src:"./images/logo.svg",alt:"Uber Eats",className:"header__logo"}),r.a.createElement("div",{className:"header__delivery-info"},r.a.createElement(ne,{name:"address",placeholder:"address",iconUrl:"./images/place.svg"}),r.a.createElement(ne,{name:"time",onChange:function(e){return k(e.target.value,"time")},placeholder:"Time",className:"header__time",type:"time"})),r.a.createElement("div",{className:"header__search"},r.a.createElement(ne,{name:"search",onChange:function(e){return k(e.target.value,"search")},placeholder:"Search",iconUrl:"./images/search.svg"})),r.a.createElement("div",{className:"header__toggle-buttons"},r.a.createElement("button",{onClick:s,className:"header__toggle-btn",type:"button"},r.a.createElement("img",{src:"./images/place.svg",alt:"place icon"})),r.a.createElement("button",{onClick:c,className:"header__toggle-btn",type:"button"},r.a.createElement("img",{src:"./images/search.svg",alt:"search icon"}))),0===d.length?r.a.createElement("a",{className:"header__link",href:"/"},"Sign in"):r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{src:"./images/basket.svg",className:"header__link",alt:"basket",onClick:function(){return l()}}),r.a.createElement("span",{className:"header__total-count"},b)),u&&r.a.createElement(de,null)),(i||o)&&r.a.createElement("div",{className:"header__mobile-controls mobile-controls"},i&&r.a.createElement(ne,{label:"search",name:"search",onChange:function(e){return k(e.target.value,"search")},placeholder:"Search",iconUrl:"./images/search.svg",isSmall:!1}),o&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ne,{label:"where",name:"address",placeholder:"address",iconUrl:"./images/place.svg",isSmall:!1}),r.a.createElement(ne,{label:"to",name:"time",onChange:function(e){return k(e.target.value,"time")},placeholder:"Time",className:"header__time",type:"time",isSmall:!1})),r.a.createElement("button",{onClick:m,className:"mobile-controls__close",type:"button"},r.a.createElement("img",{src:"./images/mdi_close.svg",alt:"close icon"})))))},pe=Object(D.c)(function(e){return{isSearchVisible:Object(H.o)(e),isDeliveryVisible:Object(H.l)(e),locationId:Object(H.p)(e),basket:Object(H.a)(e),isBasketShown:Object(H.k)(e),totalCount:Object(H.u)(e)}},function(e){return{setTime:function(t){return e(Z(t))},setSearch:function(t){return e($(t))},toggleSearch:function(){return e({type:"TOGGLE_SEARCH"})},toggleDelivery:function(){return e({type:"TOGGLE_DELIVERY"})},closeMobile:function(){return e({type:"CLOSE_MOBILE"})},showBasket:function(){return e({type:"SHOW_BASKET"})}}})(be),Ee=(a(54),a(55),function(e){var t=e.name;return r.a.createElement("div",{role:"presentation",className:"select"},r.a.createElement("select",{name:t,className:"select__input"},r.a.createElement("option",null,"English"),r.a.createElement("option",null,"Ukrainian")),r.a.createElement("img",{className:"select__icon",src:"./images/world.svg",alt:"world"}),r.a.createElement("img",{className:"select__arrow",src:"./images/arrow-back.svg",alt:"arrow back"}))}),fe=function(){return r.a.createElement("footer",{className:"footer"},r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"footer__top-part"},r.a.createElement("div",{className:"footer__main"},r.a.createElement("div",{className:"footer__logo-container"},r.a.createElement("img",{src:"./images/logo-white.svg",alt:"Uber Eats",className:"footer__logo"}),r.a.createElement(Ee,{name:"language",options:[{value:"en",label:"Engilsh"}],iconUrl:"./images/world.svg"})),r.a.createElement("div",{className:"footer__mobile-apps"},r.a.createElement("a",{href:"/",className:"footer__mobile-app"},r.a.createElement("img",{src:"./images/apple.png",alt:"app store"})),r.a.createElement("a",{href:"/",className:"footer__mobile-app"},r.a.createElement("img",{src:"./images/google.png",alt:"google play",className:"footer_mobile-app"})))),r.a.createElement("div",{className:"footer__top-links links"},r.a.createElement("a",{href:"/",className:"links__link links__link--intended"},"About UberEats"),r.a.createElement("a",{href:"/",className:"links__link"},"Read our blog"),r.a.createElement("a",{href:"/",className:"links__link"},"Sign up to deliver"),r.a.createElement("a",{href:"/",className:"links__link"},"Add your restaurant")),r.a.createElement("div",{className:"footer__top-links"},r.a.createElement("a",{href:"/",className:"links__link links__link--intended"},"Get help"),r.a.createElement("a",{href:"/",className:"links__link"},"Read FAQs"),r.a.createElement("a",{href:"/",className:"links__link"},"View all cities"))),r.a.createElement("div",{className:"footer__bottom-part"},r.a.createElement("p",{className:"footer__copyright"},"\xa9 2019 Uber Technologies Inc."),r.a.createElement("div",{className:"footer__misc"},r.a.createElement("div",{className:"footer__bottom-links links"},r.a.createElement("a",{href:"/",className:"links__link"},"Privacy policy"),r.a.createElement("a",{href:"/",className:"links__link"},"Terms to use"),r.a.createElement("a",{href:"/",className:"links__link"},"Pricing")),r.a.createElement("div",{className:"footer__social social"},r.a.createElement("a",{href:"/",className:"social__link"},r.a.createElement("img",{src:"./images/fb.svg",alt:"facebook"})),r.a.createElement("a",{href:"/",className:"social__link"},r.a.createElement("img",{src:"./images/twit.svg",alt:"twitter"})),r.a.createElement("a",{href:"/",className:"social__link"},r.a.createElement("img",{src:"./images/instagram.svg",alt:"instagram"})))))))},ke=a(35),ge=(a(56),a(57),function(){return r.a.createElement("div",{className:"loader-container"},r.a.createElement("div",{className:"lds-dual-ring"}))}),ve=function(e){var t=e.restaurant,a=e.isLoading,c=e.loadRestaurant,s=Object(P.m)().uuid,i=Object(P.k)(),o=Object(P.l)();return Object(n.useEffect)(function(){c(s),window.scrollTo(0,0)},[c,s,i]),Object(n.useEffect)(function(){""!==o.search&&i.push("/restaurants"+o.search)},[o.search,o,i]),a?r.a.createElement(ge,null):r.a.createElement(r.a.Fragment,null,Object.keys(t).length&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"top-block"},r.a.createElement("img",{src:t.heroImageUrls[4].url,className:"top-block__image",alt:"logo"}),r.a.createElement("div",{className:"top-block__info-block"},r.a.createElement("div",{className:"info-block__info"},r.a.createElement("h1",{className:"top-block__title"},t.title),r.a.createElement("div",{className:"top-block__categories"},t.categories.join(" \u2022 ")),r.a.createElement("div",{className:"top-block__address"},t.location.address,t.location.country,"  \u2022  ",r.a.createElement("span",{className:"top-block__address--details"},"More info"))))),r.a.createElement("div",{className:"sections-navlist"},t.sections.map(function(e){return r.a.createElement(ke.HashLink,{key:e,to:"#".concat(t.sectionsMap[e].title),className:"sections-navlist__section-nav"},t.sectionsMap[e].title)})),r.a.createElement("div",{className:"sections"},r.a.createElement("div",{className:"sections__section"},t.sections.map(function(e){return r.a.createElement(r.a.Fragment,{key:e},r.a.createElement("div",{id:t.sectionsMap[e].title,className:"section__section-title"},t.sectionsMap[e].title),r.a.createElement("div",{className:"section__goods"},t.sectionsMap[e].itemUuids.map(function(e){return r.a.createElement(r.a.Fragment,{key:e},r.a.createElement(x.NavLink,{to:"/restaurants/".concat(s,"/").concat(e)},r.a.createElement("div",{className:"goods__good"},r.a.createElement("div",{className:"goods__good-description"},r.a.createElement("div",{className:"goods__good-description--info"},r.a.createElement("p",{className:"goods__good-description--name"},t.entitiesMap[e].title),r.a.createElement("p",{className:"goods__good-description--ingridients"},t.entitiesMap[e].description)),r.a.createElement("div",{className:"goods__good-description--price"},r.a.createElement("span",null,t.entitiesMap[e].price),r.a.createElement("span",null,t.priceBucket[0]))),t.entitiesMap[e].imageUrl?r.a.createElement("img",{className:"goods__good--image",alt:t.entitiesMap[e].title,src:t.entitiesMap[e].imageUrl}):r.a.createElement(r.a.Fragment,null))))})))})))))},he=Object(D.c)(function(e){return{restaurant:Object(H.s)(e),isLoading:Object(H.n)(e),currentUuid:Object(H.e)(e),locationId:Object(H.p)(e)}},function(e){return{loadRestaurant:function(t){return e(function(e){return function(t){var a;return ie.a.async(function(n){for(;;)switch(n.prev=n.next){case 0:return t({type:"START_LOADING"}),n.next=3,ie.a.awrap(me(e));case 3:a=n.sent,t({type:"SET_UUID",currentUuid:e}),t(X(a.data)),t({type:"STOP_LOADING"});case 7:case"end":return n.stop()}})}}(t))}}})(ve),Ne=(a(58),function(e){var t=e.imageUrl,a=e.title,n=e.categories,c=e.etaRange,s=e.uuid;return r.a.createElement("div",{className:"restaurant-card",role:"presentation"},r.a.createElement(x.NavLink,{to:"/restaurants/".concat(s)},r.a.createElement("img",{src:t,alt:a,className:"restaurant-card__img"}),r.a.createElement("h2",{className:"restaurant-card__title"},a),r.a.createElement("div",{className:"restaurant-card__categories"},n.map(function(e,t){return 0===t?e[0]:e}).join(" \u2022 ")),r.a.createElement("div",{className:"restaurant-card__eta"},c)))}),Ie=(a(59),function(e){var t=e.restaurantsList,a=void 0===t?[]:t,c=e.loadRestaurantsList,s=e.isLoading,i=e.locationId,o=e.currentHash,l=Object(P.k)(),u=Object(P.l)();Object(n.useEffect)(function(){c(i)},[c,i]),Object(n.useEffect)(function(){l.push("/restaurants"+o.replace("#/restaurants",""))},[]);var m=new URLSearchParams(u.search),_=a.filter(function(e){return!m.get("title")||e.slug.includes(m.get("title"))});return s?r.a.createElement(ge,null):r.a.createElement("div",{className:"restaurants-list"},_&&_.map(function(e){return r.a.createElement(Ne,{key:e.uuid,uuid:e.uuid,title:e.title,imageUrl:e.heroImageUrl,categories:e.categories,etaRange:e.etaRange.text})}))}),Oe=Object(D.c)(function(e){return{restaurantsList:Object(H.t)(e),isLoading:Object(H.n)(e),locationId:Object(H.p)(e),currentHash:Object(H.j)(e)}},function(e){return{loadRestaurantsList:function(t){return e((a=t,function(e){var t,n,r;return ie.a.async(function(c){for(;;)switch(c.prev=c.next){case 0:return e({type:"START_LOADING"}),c.next=3,ie.a.awrap(le());case 3:return t=c.sent,n=t.data.locations[0],e(Y(a||n)),e(J(t.data)),c.next=9,ie.a.awrap(ue(a));case 9:r=c.sent,e({type:"SET_RESTAURANTS_LIST",restaurantsList:r.data}),e({type:"STOP_LOADING"});case 12:case"end":return c.stop()}})}));var a}}})(Ie),Te=(a(60),function(e){var t=e.menuItem,a=e.loadMenuItem,c=e.isEditable,s=e.setIsEditable,i=e.isLoading,o=e.restaurant,l=e.setCustomPrice,u=e.increaseCounter,m=e.decreaseCounter,_=e.fullPrice,d=e.hasError,b=e.counter,p=e.setHasWarning,E=e.hasWarning,f=e.setaddPrice,k=e.setCounter,g=e.removeItem,v=e.basketItemId,h=e.addItemToBasket,N=e.editItemInBasket,I=e.customInfo,O=e.basket,T=e.resetaddPrice,S=Object(P.n)(),w=Object(P.k)(),j=Object(n.useRef)(null),y=Object(n.useRef)(null),C=function(e,t,a,n,r,c,s){s[0]&&!s[0].restaurantTitle.includes(n.title)&&p(!0),(s[0]&&s[0].restaurantTitle===n.title||0===s.length||e)&&(h(e,t,a,n,r,c,I,s),w.replace(re(w)))};return Object(n.useEffect)(function(){return a(S.params.itemUuid),c&&(k(O&&O.find(function(e){return e.itemUuid===t.uuid}).count),f(O&&O.find(function(e){return e.id===v}).customInfo)),document.body.style.overflow="hidden",function(){document.body.style.overflow="auto",f([]),k(1),s(!1)}},[a,S]),i?r.a.createElement(ge,null):d?r.a.createElement("div",{className:"popup",onClick:function(e){return j.current&&!j.current.contains(e.target)&&w.replace(re(w))}},r.a.createElement("div",{className:"error-message",ref:j},r.a.createElement("span",null,"An error is occured"),r.a.createElement("button",{className:"error-message--button",onClick:function(){return w.replace(re(w))}},"Go back"))):E?r.a.createElement("div",{className:"popup",onClick:function(e){return j.current&&!j.current.contains(e.target)&&w.replace(re(w))}},r.a.createElement("div",{className:"error-message",ref:j},r.a.createElement("span",null,"Your order contains items from",r.a.createElement("span",{className:"error-message--name"}," ",O[0].restaurantTitle)),r.a.createElement("span",null,"Create a new order to add items from",r.a.createElement("span",{className:"error-message--name"}," ",o.title)),r.a.createElement("button",{className:"error-message--button",onClick:function(){return C(E,t.uuid,t.title,o,b,_,O)}},"create new order"))):t.title&&r.a.createElement("div",{className:"popup",onClick:function(e){return j.current&&!j.current.contains(e.target)&&w.replace(re(w))}},r.a.createElement("div",{className:"form",ref:j},r.a.createElement("div",{className:"menu-item"},r.a.createElement("div",{className:"menu-item__top-block"},t.imageUrl&&r.a.createElement("img",{className:"menu-item__photo",src:t.imageUrl,alt:"menu item"}),r.a.createElement("img",{src:"./images/close.svg",alt:"close button",onClick:function(){return w.replace(re(w))},className:"menu-item__close"})),r.a.createElement("div",{className:"menu-item__title-block"},r.a.createElement("h1",{className:"title-block__title"},t.title),r.a.createElement("p",{className:"title-block__description"},t.itemDescription)),r.a.createElement("div",{className:"menu-item__customization-block"},t.customizationsList.map(function(e){return r.a.createElement(r.a.Fragment,{key:e.title},r.a.createElement("div",{className:"customization-block__title"},r.a.createElement("div",{className:"customization-block__title--title"},e.title.split("-")[0]),r.a.createElement("div",{className:"customization-block__title--permission"},"Choose up to ",e.maxPermitted)),1===e.maxPermitted&&r.a.createElement("form",{className:"customization-block__items"},e.options.map(function(t){return r.a.createElement("div",{key:t.title,className:"customization-block__items--item"},r.a.createElement("label",{className:"customization-block__items--lable"},r.a.createElement("input",{type:"radio",ref:y,name:e.title,value:t.price,className:"radio--default",defaultChecked:c&&O.some(function(e){return e.customInfo.some(function(a){return a.customItem===t.title&&e.id===v})}),onChange:function(){return l(t.price,e.title,"radio",t.title,t.uuid)}}),r.a.createElement("div",{className:"customization-block__items--name-price"},r.a.createElement("span",{className:"text-radio"},t.title.split("-")[0]),r.a.createElement("span",{className:"customization-block__items--price"},"+",o.priceBucket[0],t.price))))})),e.maxPermitted>1&&r.a.createElement("form",{className:"customization-block__items"},e.options.map(function(t){return r.a.createElement("div",{key:t.title.split("-")[0],className:"customization-block__items--item"},r.a.createElement("label",{className:"customization-block__items--lable"},r.a.createElement("input",{type:"checkbox",className:"checkbox--default",name:e.title,value:t.price,defaultChecked:c&&O.some(function(e){return e.customInfo.some(function(a){return a.customItem===t.title&&e.id===v})}),onChange:function(){return l(t.price,e.title,"checkbox",t.title,t.uuid)}}),r.a.createElement("div",{className:"customization-block__items--name-price"},r.a.createElement("span",{className:"text-checkbox"},t.title.split("-")[0]),r.a.createElement("span",{className:"customization-block__items--price"},"+",o.priceBucket,t.price))))})))})),c&&r.a.createElement("div",{className:"menu-item__delete-item",onClick:function(){return function(e){g(e),w.replace(re(w))}(v)}},"Remove item"),r.a.createElement("div",{className:"menu-item__submit-block"},r.a.createElement("div",{className:"submit-block__quantity"},r.a.createElement("span",{className:"submit-block__quantity--tag"},"\u041ai\u043b\u044c\u043ai\u0441\u0442\u044c:"),r.a.createElement("div",{className:"submit-block__quantity--buttons"},r.a.createElement("img",{className:"submit-block__quantity--buttons--plus",src:"./images/Group 18.svg",alt:"add item button",onClick:function(){return m()}}),r.a.createElement("div",{className:"submit-block__quantity--buttons--counter"},b),r.a.createElement("img",{className:"submit-block__quantity--buttons--minus",src:"./images/Group 20.svg",alt:"remove item button",onClick:function(){return u()}}))),c?r.a.createElement("div",{className:"submit-block__submit",onClick:function(){return function(e,t,a,n,r){T(),N(e,t,a,n,r,I),w.replace(re(w))}(t.uuid,t.title,o,b,_)}},r.a.createElement("span",{className:"submit-block__submit--count"},"Add ",b," to order"),r.a.createElement("span",{className:"submit-block__submit--price"},(_*b).toFixed(2)," UAH")):r.a.createElement("div",{className:"submit-block__submit",onClick:function(){return C(E,t.uuid,t.title,o,b,_,O)}},r.a.createElement("span",{className:"submit-block__submit--count"},"Add ",b," to order"),r.a.createElement("span",{className:"submit-block__submit--price"},(_*b).toFixed(2)," UAH"))))))}),Se=Object(D.c)(function(e){return{menuItem:Object(H.r)(e),isLoading:Object(H.n)(e),restaurant:Object(H.s)(e),counter:Object(H.c)(e),fullPrice:Object(H.d)(e),hasError:Object(H.h)(e),hasWarning:Object(H.i)(e),isEditable:Object(H.m)(e),customInfo:Object(H.f)(e),basket:Object(H.a)(e),basketItemId:Object(H.b)(e)}},function(e){return{resetaddPrice:function(){return e({type:"RESET_ADD_PRICE"})},setHasError:function(t){return e(te(t))},setHasWarning:function(t){return e(ee(t))},loadMenuItem:function(t){return e(function(e){return function(t){var a,n;return ie.a.async(function(r){for(;;)switch(r.prev=r.next){case 0:return t({type:"START_LOADING"}),r.next=3,ie.a.awrap(_e(e));case 3:a=r.sent,n=a.data,"error"===a?(t(te(!0)),t({type:"STOP_LOADING"})):(a=Object(b.a)({},a,{data:Object(b.a)({},n,{customizationsList:a.data.customizationsList.map(function(e,t,a){return t!==a.indexOf(e.title)||t!==a.lastIndexOf(e)?Object(b.a)({},e,{title:"".concat(e.title,"-").concat(t+1),options:e.options.map(function(e){return Object(b.a)({},e,{title:"".concat(e.title,"-").concat(t+1)})})}):e})})}),t(Q(n)),t({type:"SET_CURRENT_PRICE",currentPrice:a.data.price}),t(te(!1)),t({type:"STOP_LOADING"}));case 6:case"end":return r.stop()}})}}(t))},setCounter:function(t){return e({type:"SET_COUNTER",counter:t})},setaddPrice:function(t){return e({type:"SET_ADD_PRICE",addPrice:t})},increaseCounter:function(){return e({type:"INCREASE_COUNTER"})},decreaseCounter:function(){return e({type:"DECREASE_COUNTER"})},setIsEditable:function(t){return e(z(t))},removeItem:function(t){return e(F(t))},editItemInBasket:function(t,a,n,r,c,s){return e(function(e,t,a,n,r,c){return function(s){var i;return ie.a.async(function(o){for(;;)switch(o.prev=o.next){case 0:i={price:r,count:n,restaurantTitle:a.title,restaurantUuid:a.uuid,itemTitle:t,itemUuid:e,customInfo:c},s({type:"EDIT_ITEM",basket:i});case 2:case"end":return o.stop()}})}}(t,a,n,r,c,s))},setCustomPrice:function(t,a,n,r,c){return e(function(e,t,a,n,r){return function(r){return ie.a.async(function(c){for(;;)switch(c.prev=c.next){case 0:"radio"===a&&r({type:"ADD_PRICE_TOGGLE",addPrice:{price:e,subtitle:t,customItem:n}}),"checkbox"===a&&r(ae({price:e,subtitle:t,customItem:n}));case 2:case"end":return c.stop()}})}}(t,a,n,r))},addItemToBasket:function(t,a,n,r,c,s,i,o){return e(function(e,t,a,n,r,c,s,i){return function(i){var o,l;return ie.a.async(function(u){for(;;)switch(u.prev=u.next){case 0:o=+new Date,l={price:c,count:r,restaurantTitle:n.title,restaurantUuid:n.uuid,itemTitle:a,itemUuid:t,customInfo:s,id:o},e&&i({type:"RESET_BASKET"}),i({type:"ADD_ITEM_IN_BASKET",basket:l}),i(ee(!1));case 5:case"end":return u.stop()}})}}(t,a,n,r,c,s,i))}}})(Te),we=function(){return r.a.createElement("div",{className:"page"},r.a.createElement("main",{className:"content"},r.a.createElement(P.d,{exact:!0,path:"/restaurants"},r.a.createElement(Oe,null)),r.a.createElement(P.d,{path:"/restaurants/:uuid/:itemUuid?"},r.a.createElement(he,null)),r.a.createElement(P.d,{path:"/restaurants/:uuid/:itemUuid"},r.a.createElement(Se,null)),r.a.createElement(P.d,{path:"/restaurants/:uuid?:itemUuid?/basket"},r.a.createElement(ce,null)),r.a.createElement(P.c,{from:"/",to:"/restaurants"})))},je=(U=Object(i.load)(),Object(u.createStore)(L(R),U,Object(u.compose)(Object(_.composeWithDevTools)(u.applyMiddleware.apply(void 0,A.concat([Object(m.a)(R)])))))),ye=function(){return r.a.createElement(D.a,{store:je},r.a.createElement(o.a,{history:R},r.a.createElement(r.a.Fragment,null," ",r.a.createElement(x.HashRouter,null,r.a.createElement(P.g,null,r.a.createElement(D.a,{store:je},r.a.createElement(pe,null),r.a.createElement(we,null),r.a.createElement(fe,null)))))))};s.a.render(r.a.createElement(ye,null),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.d06280ee.chunk.js.map